"use strict";(self.webpackChunkphoto_app=self.webpackChunkphoto_app||[]).push([[169],{8169:function(e,n,o){o.r(n),o.d(n,{default:function(){return be}});var t=o(2791),r=o(7689),i=o(184);function l(e){var n=e.backgroundImageUrl;return(0,i.jsx)("div",{className:"banner",style:n?{backgroundImage:"url(".concat(n,")")}:{},children:(0,i.jsx)("div",{className:"banner__title",children:(0,i.jsx)("h1",{children:e.title})})})}var a=o(6151),s=o(4708),c=o(4554),d=o(1614),u=o(7107),h=o(7012),m=o(1724),p=o(5705),x=o(1413),f=o(7391);function j(e){var n=e.field,o=e.form,t=e.label,r=e.type,l=e.placeholder,a=e.disabled,s=o.errors,c=o.touched,d=s[n.name]&&c[n.name];return(0,i.jsx)(f.Z,(0,x.Z)((0,x.Z)({error:d,helperText:d&&s[n.name],className:"input-field",sx:{mt:.5,mb:.5},required:!0,fullWidth:!0,id:n.name},n),{},{type:r,placeholder:l,disabled:a,label:t}))}j.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var v=j,g=[{id:1,name:"Nature"},{id:2,name:"Technology"},{id:3,name:"Travel"}],Z=o(9860),b=o(3329),y=o(8096),k=o(4925),C=o(9321),P=o(9891);function w(e){var n=e.field,o=e.form,t=e.label,r=e.options,l=o.errors,a=o.touched,s=l[n.name]&&a[n.name];return(0,i.jsxs)(y.Z,{fullWidth:!0,children:[(0,i.jsx)(k.Z,{id:"demo-simple-select-label",sx:{mt:.5,mb:.5},children:t}),(0,i.jsx)(C.Z,(0,x.Z)((0,x.Z)({labelId:"demo-simple-select-label",id:"demo-simple-select",sx:{mt:.5,mb:.5}},n),{},{label:t,error:s,helpertext:s&&l[n.name],onChange:function(e){o.setFieldValue(n.name,e.target.value)},children:r.map((function(e,n){return(0,i.jsx)(P.Z,{value:e.name,children:e.name},n)}))}))]})}w.defaultProps={type:"text",label:"",placeholder:"",options:[]};var R=w,N=o(9012),_=o(4165),B=o(5861);function E(e){var n=e.errorMessage,o=e.className,t=e.imageUrl,r=e.onImageUrlChange,l=e.onRandomButtonBlur,s=e.name;return(0,i.jsxs)("div",{className:"random-photo",children:[(0,i.jsx)("div",{className:"random-photo__button",children:(0,i.jsx)(a.Z,{sx:{mt:.5,mb:2},variant:"outlined",color:"success",id:s,onBlur:l,onClick:(0,B.Z)((0,_.Z)().mark((function e(){var n,o,t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.trunc(2e3*Math.random()),e.next=3,fetch("https://picsum.photos/id/".concat(n,"/300/300"));case 3:o=e.sent,t=o.url,r(t);case 6:case"end":return e.stop()}}),e)}))),children:"Random a photo"})}),(0,i.jsxs)("div",{className:"random-photo__photo",children:[t&&(0,i.jsx)("img",{src:t,alt:"Ooops... not found. Please click random again!"}),o&&(0,i.jsx)("div",{className:"invalid-feedback",children:n})]})]})}E.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var I=E;function S(e){var n=e.field,o=e.form,t=o.errors,r=o.touched,l=n.name,a=n.value,s=n.onBlur,c=t[l]&&r[l];return(0,i.jsx)(N.Z,{className:"random-photo-field",children:(0,i.jsx)(I,{errorMessage:t[l],className:c?"is-invalid":"",name:l,imageUrl:a,onImageUrlChange:function(e){o.setFieldValue(l,e)},onRandomButtonBlur:s})})}S.defaultProps={label:""};var O=S,U=o(2777),W=o(9434),T=(0,u.Z)();function A(e){var n=e.initialValues,o=(0,W.I0)(),t=(0,r.s0)();return console.log("initialValues",n),(0,i.jsx)(h.Z,{theme:T,children:(0,i.jsxs)(d.Z,{component:"main",maxWidth:"xs",children:[(0,i.jsx)(s.ZP,{}),(0,i.jsx)(c.Z,{sx:{marginTop:0,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(c.Z,{component:"div",sx:{mt:1,width:{sm:"100%",md:"100%"}},children:(0,i.jsx)(p.J9,{initialValues:n||{title:"",description:"",category:"",photo:""},validationSchema:m.Ry().shape({title:m.Z_().required("Please enter title"),description:m.Z_().required("Please enter description"),category:m.Z_().required("Please enter category"),photo:m.Z_().required("Please Random a photo")}),onSubmit:function(e){return new Promise((function(r,i){setTimeout((function(){var i=n?(0,U.tU)(e):(0,U.ZE)(e);o(i),t("/photos"),r(!0)}),2e3)}))},children:function(e){var o=e.values,t=e.errors,r=e.touched,l=e.isSubmitting;return console.log({values:o,errors:t,touched:r,isSubmitting:l}),(0,i.jsxs)(p.l0,{children:[(0,i.jsx)(p.Rt,{name:"title",component:v,label:"Title",type:"text",placeholder:"Enter title"}),(0,i.jsx)(p.Rt,{name:"description",component:v,label:"Description",type:"text",placeholder:"Enter description"}),(0,i.jsx)(p.Rt,{name:"category",component:R,label:"Category",placeholder:"What is your photo category?",options:g,type:"text"}),(0,i.jsx)(p.Rt,{name:"photo",component:O,label:"Random Photo"}),(0,i.jsx)(N.Z,{children:l?(0,i.jsx)(Z.Z,{loading:!0,loadingPosition:"start",startIcon:(0,i.jsx)(b.Z,{}),variant:"outlined",children:"Save"}):(0,i.jsx)(a.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:n?"Update":"Add"})})]})}})})})]})})}var L=function(){var e=(0,r.UO)();console.log(e);var n=(0,W.v9)((function(e){return e.photos}));console.log(n);var o=n.find((function(n){return n.id===parseInt(e.id)}));return console.log(o),(0,i.jsxs)("div",{children:[(0,i.jsx)(l,{title:"Add your new Photo"}),(0,i.jsx)("div",{className:"form-add",children:"add"===e.id?(0,i.jsx)(A,{}):(0,i.jsx)(A,{initialValues:o})})]})},F=o(9439),G=o(2003),q=o(890),M=o(4082),V=o(2739),z=o(1087);function D(e){var n=e.photo,o=e.onEditClick,t=e.onRemoveClick;return(0,i.jsxs)("div",{className:"photo",children:[(0,i.jsx)("img",{src:n.photo,alt:n.title}),(0,i.jsxs)("div",{className:"photo__overlay",children:[(0,i.jsx)("h3",{className:"photo__title",children:n.title}),(0,i.jsx)("p",{children:n.description}),(0,i.jsx)("div",{className:"photo__actions",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:function(){o&&o(n)},children:"Edit"}),(0,i.jsx)(a.Z,{variant:"outlined",color:"error",onClick:function(){t&&t(n)},children:"Remove"})]})})]})]})}D.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var Y=D,J=o(1889);function H(e){var n=e.photoList,o=e.onPhotoEditClick,t=e.onPhotoRemoveClick;return(0,i.jsx)("div",{style:{marginTop:"50px"},children:(0,i.jsx)(J.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:n.map((function(e,n){return(0,i.jsx)(J.ZP,{item:!0,xs:2,sm:4,md:4,children:(0,i.jsx)(Y,{photo:e,onEditClick:o,onRemoveClick:t})},n)}))})})}H.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var K=H,Q=function(){var e=t.useState(!1),n=(0,F.Z)(e,2),o=n[0],s=n[1],d=(0,t.useRef)(null),u=function(){return s(!1)},h=(0,W.v9)((function(e){return e.photos})),m=(0,W.I0)(),p=(0,r.s0)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{title:"Your awesome photos \ud83c\udf89"}),(0,i.jsxs)("div",{className:"main",children:[(0,i.jsx)(z.rU,{className:"main__link",to:"/photos/add",children:(0,i.jsx)(a.Z,{variant:"outlined",color:"success",children:"Add new photo"})}),(0,i.jsx)(K,{photoList:h,onPhotoEditClick:function(e){console.log("Edit: ",e),p("/photos/".concat(e.id))},onPhotoRemoveClick:function(e){console.log("Open: ",e),d.current=e,s(!0)}}),(0,i.jsx)(M.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:o,onClose:u,closeAfterTransition:!0,BackdropComponent:V.Z,BackdropProps:{timeout:500},children:(0,i.jsx)(G.Z,{in:o,children:(0,i.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},children:[(0,i.jsx)(q.Z,{id:"transition-modal-title",variant:"h6",color:"error",component:"h2",children:"Be Careful!!!"}),(0,i.jsx)(q.Z,{id:"transition-modal-description",sx:{mt:2},children:"Are you sure you want to delete this photo?"}),(0,i.jsxs)("div",{style:{display:"flex",marginTop:"20px",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,i.jsx)(a.Z,{variant:"contained",color:"error",onClick:function(){console.log("Remove: ",d.current.id),m((0,U.Nm)(d.current.id)),u()},children:"Yes"}),(0,i.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:u,children:"No"})]})]})})})]})]})},X=o(4942),$=o(4395),ee=o(4663),ne=o(3400),oe=o(5422),te=o(8008),re=o(3044),ie=o(6520),le=o(8249),ae=o(1703),se=o(7820),ce=o(4834),de=o(2279),ue=o(5931),he=o(6934),me=o(2065),pe=(0,he.ZP)("div")((function(e){var n=e.theme;return(0,X.Z)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,me.Fq)(n.palette.common.white,.15),"&:hover":{backgroundColor:(0,me.Fq)(n.palette.common.white,.25)},marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(1),width:"auto"})})),xe=(0,he.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),fe=(0,he.ZP)(ce.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,X.Z)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),je=["Products","Pricing","Blog"],ve=["Profile","Account","Dashboard","Logout"];function ge(e){var n=e.children,o=e.window,t=(0,de.Z)({target:o?o():void 0});return(0,i.jsx)(ue.Z,{appear:!1,direction:"down",in:!t,children:n})}var Ze=function(e){var n=(0,W.v9)((function(e){return e.user})),o=t.useState(null),r=(0,F.Z)(o,2),l=r[0],s=r[1],u=t.useState(null),h=(0,F.Z)(u,2),m=h[0],p=h[1],f=function(){s(null)},j=function(){console.log(m),"Logout"===m.textContent&&(0,se.w7)(n),p(null)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ge,(0,x.Z)((0,x.Z)({},e),{},{children:(0,i.jsx)($.Z,{children:(0,i.jsx)(d.Z,{maxWidth:"xl",children:(0,i.jsxs)(ee.Z,{disableGutters:!0,children:[(0,i.jsx)(le.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,i.jsx)(q.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),(0,i.jsxs)(c.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(ne.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:(0,i.jsx)(te.Z,{})}),(0,i.jsx)(oe.Z,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:f,sx:{display:{xs:"block",md:"none"}},children:je.map((function(e){return(0,i.jsx)(P.Z,{onClick:f,children:(0,i.jsx)(q.Z,{textAlign:"center",children:e})},e)}))})]}),(0,i.jsx)(le.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,i.jsx)(q.Z,{variant:"h5",noWrap:!0,component:"p",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),(0,i.jsx)(c.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:je.map((function(e){return(0,i.jsx)(a.Z,{onClick:f,sx:{my:2,color:"white",display:"block"},children:e},e)}))}),(0,i.jsx)(c.Z,{sx:{flexGrow:2,marginRight:{xs:2,md:30}},children:(0,i.jsxs)(pe,{children:[(0,i.jsx)(xe,{children:(0,i.jsx)(ae.Z,{})}),(0,i.jsx)(fe,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})}),(0,i.jsxs)(c.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(ie.Z,{title:"Open settings",children:(0,i.jsx)(ne.Z,{onClick:function(e){p(e.currentTarget)},sx:{p:0},children:(0,i.jsx)(re.Z,{alt:n.displayName,srcSet:n.photoUrl})})}),(0,i.jsx)(oe.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(m),onClose:j,children:ve.map((function(e){return(0,i.jsx)(P.Z,{onClick:j,children:(0,i.jsx)(q.Z,{textAlign:"center",children:e})},e)}))})]})]})})})})),(0,i.jsx)(ee.Z,{})]})};var be=function(e){return(0,i.jsxs)("div",{children:[(0,i.jsx)(Ze,{}),(0,i.jsxs)(r.Z5,{children:[(0,i.jsx)(r.AW,{path:":id",element:(0,i.jsx)(L,{})}),(0,i.jsx)(r.AW,{path:"*",element:(0,i.jsx)(Q,{})})]})]})}}}]);
//# sourceMappingURL=169.28627d6e.chunk.js.map